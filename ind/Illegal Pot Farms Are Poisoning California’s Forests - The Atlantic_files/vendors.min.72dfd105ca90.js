function optimizelyEvent(name){window.optimizely=window.optimizely||[],window.optimizely.push({type:"event",eventName:name})}!function($$1){"use strict";function log(){if(isDebug)for(var i=0;i<arguments.length;i++)console.debug(arguments[i])}function arraysEqual(arr1,arr2){if(arr1.length!==arr2.length)return!1;for(var i=0;i<arr1.length;++i)if(arr1[i]!==arr2[i])return!1;return!0}function stripIndent(str){return str.replace(/\n\s+/g,"\n")}function Queue(key,externalCallback){this.key=key,this.q=internalQueues[key],this.externalCallback=externalCallback||null}function convertToArray(iterable){for(var items=[],i=0;i<iterable.length;i++)items.push(iterable[i]);return items}function lazyLoadExperimentGate(lazy){return void 0===lazySetting||isNaN(lazySetting)?lazy:lazySetting}function inferOffset(el){function positionedSibling(e){for(var orig=e;e=e.previousElementSibling;)if(e.offsetParent)return e;for(e=orig;e=e.nextElementSibling;)if(e.offsetParent)return e}for(var sibling=void 0;null===el.offsetParent;)sibling=positionedSibling(el),el=sibling?sibling:el.parentNode;return el.getBoundingClientRect().top}function inLazyRange(ad,defaultLazy){var lazy=void 0;if(lazy=ad.hasAttribute("lazy-load")?parseFloat(ad.getAttribute("lazy-load")):defaultLazy,0===lazy)return!0;lazy=lazyLoadExperimentGate(lazy);var top_limit=0,bottom_limit=window.innerHeight*lazy;if(document.body.contains(ad)){var offset=inferOffset(ad);return offset<bottom_limit&&offset>top_limit}return!1}function render(adverts,options){options=_extends({changeCorrelator:!refreshCount,outOfPageAd:null,defaultLazy:0},options);var _scrolled=Math.abs(scrollPosition-window.pageYOffset);if(scrollPosition=window.pageYOffset,!(_scrolled>500)){var adsToRender=adverts.filter(function(ad){return!ad.hasAttribute("defer")&&!ad.called&&inLazyRange(ad,options.defaultLazy)});if(adsToRender.length){refreshCount++,adsToRender.forEach(function(ad){ad.called=!0,$(ad).addClass("ad-called"),ad.startTime=performance.now(),ad.batch=refreshCount});var slots=adsToRender.map(function(ad){return ad.adSlot});0!==slots.length&&(options.outOfPageAd&&!options.outOfPageAd.called&&(slots.push(options.outOfPageAd),options.outOfPageAd.called=!0,options.outOfPageAd.batch=refreshCount,options.outOfPageAd.startTime=performance.now(),log("Including OutOfPage Ad in slots to call.")),log("GPT Refresh call:",{ads:adsToRender,changedCorrector:options.changeCorrelator}),1===refreshCount&&performance.mark("ads:first_call"),googletag.pubads().refresh(slots,{changeCorrelator:options.changeCorrelator}))}}}function referrers(){var mappings={"www.facebook.com":"facebook","www.linkedin.com":"linkedin","t.co":"twitter","www.reddit.com":"reddit","trc.taboola.com":"taboola","duckduckgo.com":"search","www.bing.com":"search","r.search.yahoo.com":"search"};if(document.referrer){var domain=document.referrer.split("/")[2],value=mappings[domain];domain.match(/^www\.google\./)&&(value="search"),value&&(this.options.globals.ref=value)}}function devices(){var w=document.body.clientWidth;return w>=1040?this.options.globals.device="desktop-big":w>=980?this.options.globals.device="desktop-small":w>=768?this.options.globals.device="tablet":w>=728?this.options.globals.device="tablet-small":w>=300?this.options.globals.device="mobile":this.options.globals.device="too-small",this}function getAdTestParameter(){var loc=window.location,m=loc.search.match(/adtest\=(\d+)/)||loc.hostname.match(/adtest(\d?)\./);return m?parseInt(m[1],10)||1:void 0}function getGptDomainParameter(){var loc=window.location,m=loc.search.match(/gpt-domain\=(\w+)/);if(m)return m[1]}function gptDomainOverride(){var zoneParts=this.options.zone.split("/"),adtestNumber=getAdTestParameter();adtestNumber&&(1===adtestNumber&&(adtestNumber=""),zoneParts[2]=""+this.options.adtest_domain+adtestNumber);var domain=getGptDomainParameter();domain&&(zoneParts[2]=domain),this.options.zone=zoneParts.join("/")}function utmSource(){var m=window.location.search.match(/(\?|&)utm_source=([^\&]+)/);m&&m[2]&&(this.options.globals.utm_source=m[2])}function preview(){window.localStorage&&localStorage.getItem("uses-adops-bookmarklet")&&(this.options.globals.livetest="staff")}function testEvilCSS(){setTimeout(function(){var div=document.createElement("div");div.setAttribute("style","visibility:hidden; width: 5px; height: 5px;                 position: absolute; top:-5px; left:-5px"),div.className="ad advertisement sponsored",document.body.appendChild(div),"none"===getComputedStyle(div).display&&$window.trigger("blocker-detected")},500)}function testHoneyPot(){window.Atlantic&&window.Atlantic.STATIC_URL&&$$1.ajax({url:Atlantic.STATIC_URL+"js/advertisement.2.js",dataType:"script",cache:!0}).fail(function(){$window.trigger("blocker-detected")})}function testPatchingLibraries(){googletag.display&&"function (){}"===googletag.display.toString()&&$window.trigger("blocker-detected"),googletag.display&&"bound"===googletag.display.name.trim()&&$window.trigger("blocker-detected"),googletag.display&&"noopfn"===googletag.display.name&&$window.trigger("blocker-detected")}function retryGoogletag(){void 0===googletag._loadStarted_&&$$1.ajax({url:"https://www.googletagservices.com/tag/js/gpt.js",dataType:"script",cache:!0})}function testBadRequestPatch(){var url="https://securepubads.g.doubleclick.net/gampad/ads",img=document.createElement("img");img.src=url,img.style="visibility: hidden",img.onload=function(){$window.trigger("blocker-detected")},document.body.appendChild(img)}function recordAnalyticsToServer(path,data){var img=document.createElement("img");img.src=path+"?knowledge="+data.analytics+"&revenue="+data.ads+"&white="+data.whitelist+"&cachebuster="+Date.now(),data.time&&(img.src+="&time="+data.time),img.setAttribute("style","position: absolute; top: -1px; left: -1px; width:0; height:0; visibility:hidden;"),document.body.appendChild(img)}function detective(){if(this.options.detective){var has_analytics=void 0,has_ads=void 0,self=this,startTime=performance.now(),endTime=null,detectAds=new $$1.Deferred(function(){var promise=this;$window.one("ad-loaded ad-empty",function(){has_ads=!0,endTime=performance.now(),promise.resolve()}),$window.one("blocker-detected",function(){has_ads=!1,promise.resolve()}),testEvilCSS(),testHoneyPot(),window.setTimeout(function(){"resolved"!==this.state()&&navigator.onLine!==!1&&(log("No ads. Smart blocker detection kicking in."),testPatchingLibraries(),retryGoogletag(),testBadRequestPatch())}.bind(promise),8e3)}),detectAnalytics=new $$1.Deferred(function(){has_analytics=window.has_omniture===!0,this.resolve()});$$1.when(detectAds,detectAnalytics).then(function(){has_ads===!1&&($html.removeClass("mdzr-no-blocker-enabled").addClass("mdzr-blocker-enabled"),cookies.set("had-blocker",1,30));var has_whitelist=!(!has_ads||!cookies.get("had-blocker"));recordAnalyticsToServer(self.options.detective.url,{ads:has_ads,analytics:has_analytics,whitelist:!!has_whitelist,time:endTime-startTime}),optimizelyQueue.push({type:"event",eventName:has_ads?"ad_supported_pageview":"ad_blocked_pageview"}),has_whitelist&&optimizelyQueue.push({type:"event",eventName:"adblock_whitelist_pageview"})}.bind(this))}}function uuid(){var cryptoRNG=window.crypto||window.msCrypto,bstring="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx",reg=new RegExp(/[xy]/g);if("undefined"!=typeof cryptoRNG&&"undefined"!=typeof cryptoRNG.getRandomValues)return bstring.replace(reg,function(c){var r=cryptoRNG.getRandomValues(new Uint8Array(1))[0]%16|0,v="x"==c?r:3&r|8;return v.toString(16)})}function getDeviceType(){var ua=window.navigator.userAgent,w=window.screen.width,name="desktop";return w<1e3&&(name="tablet"),w<599&&(name="mobile"),ua.match(/iPad/)?name="tablet":ua.match(/iPhone/)?name="mobile":"desktop"===name&&ua.match("Android")&&(name="tablet"),name}function loadPixel(src){var img=document.createElement("img");img.src=src,img.width=1,img.height=1,img.setAttribute("style","position: absolute; top: -1px; left: -1px; width:0; height:0; visibility:hidden;"),document.body.appendChild(img)}function getExperiments(){var result="";for(var key in experiments)result+=key+":"+experiments[key];return result}function recordLoadTime(ad,perfUrl){var now=performance.now();if(ad.loadtime=now-ad.startTime,1===ad.batch&&(ad.loadtime=now-controllerStartTime),ad.loadtime=Math.round(ad.loadtime),perfUrl){var data={init:controllerStartTime,time:ad.loadtime,device:device,advId:ad.advertiserId,crId:ad.creativeId,zone:ad.adSlot.getAdUnitPath(),url:location.href,pageviewid:pageViewUuid,size:ad.size.join("x"),batch:ad.batch,experiments:getExperiments()},params=[];for(var key in data)data[key]&&params.push(key+"="+encodeURIComponent(data[key]));params=params.join("&");var url=perfUrl+"?"+params;loadPixel(url)}}function timing(){var _this=this;controllerStartTime=Math.round(performance.now()),this.options.perfUrl&&$window.on("ad-loaded",function(e){return recordLoadTime(e.target,_this.options.perfUrl)});var self=this;$window.one("ad-loaded",function(e){performance.mark("ads:first_loaded"),performance.measure("ads:first_round","ads:first_call","ads:first_loaded"),self.loadtime=Math.round(performance.now()-controllerStartTime)})}function blockNonPassiveEvents(win){var _original=win.addEventListener,passiveEvents=["scroll","dommousescroll","mousewheel","wheel","touchmove","touchstart","mousemove"],safeAddEventListener=function(name){var args=Array.prototype.slice.call(arguments);name=name.toLowerCase();var isPassive=args[2]&&args[2].passive;if(!isPassive&&passiveEvents.indexOf(name)>-1){var options="object"===_typeof(args[2])?args[2]:{};"boolean"==typeof args[2]&&(options.useCapture=args[2]),options.passive=!0,args[2]=options}_original.apply(this,args)};win.EventTarget.prototype.addEventListener=safeAddEventListener}function patchEventHandlers(){supportsPassive&&this.options.patchEventHandlers&&(blockNonPassiveEvents(window),gptQueue.push(function(){googletag.pubads().addEventListener("slotRenderEnded",function(event){for(var id=event.slot.getSlotElementId(),el=document.getElementById(id),iframes=el.querySelectorAll("iframe"),i=0;i<iframes.length;i++)blockNonPassiveEvents(iframes[i].contentWindow)})}))}function adomik(){if(this.options.adomik){var randomAdGroup=function(){var rand=Math.random();switch(!1){case!(rand<.14):return"ad_ex"+Math.floor(100*rand);case!(rand<.15):return"ad_bc";default:return"ad_opt"}};justInTimeQueue.push(function(){$("gpt-ad").each(function(i,el){el.adSlot&&el.adSlot.setTargeting("ad_group",randomAdGroup())})})}}function medianet(promise){var self=this;self.options.headerbidding?(log("Waiting for Media.net"),window.advBidxc=window.advBidxc||{},window.advBidxc.renderAd=function(){},window.advBidxc.startTime=(new Date).getTime(),window.advBidxc.timeout=550,window.advBidxc.version=3.3,window.advBidxc.customerId="8CUD82U22",window.advBidxc.loadGPT=function(){log(window.advBidxc.isLoaded?"Media.net loaded":"Media.net timed out"),window.advBidxc.isAdServerLoaded=!0,promise.resolve()},setTimeout(window.advBidxc.loadGPT,window.advBidxc.timeout)):promise.resolve()}function p39_KVP_Short(key_value,delimiter){var cats=getTargetingTags_1406().split("#")[2],hashloc=cats.indexOf("#");hashloc>=0&&(cats=cats.substr(0,hashloc));for(var catsArr=cats.split(";"),finalArr=[],i=0;i<catsArr.length;i++){var val=catsArr[i].split(":")[0];null!=val&&val.length>0&&finalArr.push(val)}var ret="";return finalArr.length>0&&(ret=key_value+"="+finalArr.join(delimiter+key_value+"=")+delimiter),ret}function p39_ae(su,p,v){return v?su+"&"+p+"="+encodeURIComponent(v):su}function p39_cu(u){if(u&&u.indexOf("ad.yieldmanager.com")>0){var link_pos=u.indexOf("link=$,http");u=u.substring(link_pos,u.length),u=u.replace("link=$,http","http")}return u}function p39_zp(n,c){for(var nz=n+"";nz.length<c;)nz="0"+nz;return nz}function p39_hc(s){for(var h=0,len=s.length,u=2147483647,d=2147483648,i=0;i<len;i++)h=31*h+s.charCodeAt(i),h>u?(h-=d,h=-d+h%(u+d+1)):h<-d&&(h-=-d-1,h=u+h%(u+d+1));return h<0?-h:h}function p39_bau(u){if(u){var uh=p39_hc(u),d1=uh%500,d2=parseInt(uh/500,10)%500,au=d1+"/"+d2+"/"+uh;return au+=p39_aid}return u}function p39_exec_1406(ct,useDOM){var w=window,su=null,p39_cc_v_1406=p39_cc_1406,p39_sd_v_1406=null,p39_akamai_v_1406="1",p39_au_v_1406="https://catrg.peer39.com/",p39_aid_v_1406="1406",p39_sid_v_1406=null;if(p39_sd_v_1406=Math.floor(1e6*Math.random()),w.p39_mpu_1406&&(p39_pu_1406=w.p39_mpu_1406),!p39_pu_1406){p39_pu_1406=document.location.href;var ip="0";try{p39_pu_1406=top.location.href,top.location!=document.location&&(ip="1")}catch(e){try{p39_pu_1406=window.parent.document.referrer,ip="2"}catch(ee){p39_pu_1406=document.referrer,ip="3"}}p39_sd_v_1406=p39_sd_v_1406.toString()+""+ip}if(p39_pu_1406=p39_cu(p39_pu_1406),"function"==typeof p39_clean_url_1406&&p39_pu_1406&&(p39_pu_1406=p39_clean_url_1406(p39_pu_1406)),"1"==p39_akamai_v_1406?(su=p39_au_v_1406+p39_bau("pu="+decodeURIComponent(p39_pu_1406)+"&cc="+p39_cc_v_1406),su=su+"?aid="+p39_zp(p39_aid_v_1406,5),p39_sid_v_1406?su=su+"&sid="+p39_zp(p39_sid_v_1406,5):su+="&sid=00000",su=p39_ae(su,"pu",decodeURIComponent(p39_pu_1406)),su=p39_ae(su,"cc",p39_cc_v_1406)):(su=p39_au_v_1406+"cc="+p39_cc_v_1406,su=p39_ae(su,"pu",p39_pu_1406)),su=p39_ae(su,"ct",w.ct),su=p39_ae(su,"sd",p39_sd_v_1406),su=p39_ae(su,"et",w.p39_extrk_1406),su=su.substring(0,1e3),su=su.replace(/%\w?$/,""),useDOM){var s=document.createElement("script");s.type="text/javascript",s.src=su,document.getElementsByTagName("head")[0].appendChild(s)}else document.write('<script type="text/javascript" src="'+su+'"> </script>')}function p39_clean_url_1406(u){return u=u.replace(/#.*/g,""),u=u.replace(/\/$/g,"")}function peer39(promise){var self=this;promise.then(function(){window.afterFinished_1406=function(){}}),self.options.peer39?window.afterFinished_1406=function(){self.options.globals.interests=p39_KVP_Short("","").split("=").slice(1),log("Peer39 loaded"),promise.resolve()}:promise.resolve()}function parseGptElement(el){var data={};if(el.initialHTML){var initialHTML=el.initialHTML;el=el.cloneNode(),el.innerHTML=initialHTML}return el.id||(DefaultIdIndex++,el.id=""+DefaultId+DefaultIdIndex),data.id=el.id,data.fixedSizes=function(el){var sizeElements=el.getElementsByTagName("gpt-sizes");return sizeElements.length?JSON.parse(sizeElements[0].getAttribute("sizes")):[]}(el),data.breakpoints=function(el){var sizeSetElements=el.getElementsByTagName("gpt-sizeset");return Array.prototype.map.call(sizeSetElements,function(ss){return{viewport:JSON.parse(ss.getAttribute("viewport-size")),sizes:JSON.parse(ss.getAttribute("sizes"))}})}(el),data.targeting=function(el){for(var params={},prefix="targeting-",i=0;i<el.attributes.length;i+=1){var attribute=el.attributes[i];0===attribute.name.indexOf(prefix)&&(params[attribute.name.slice(prefix.length)]=attribute.value)}return params}(el),data}function getSizesAtCurrentBreakpoint(ad){var data=parseGptElement(ad),breakpoints=data.breakpoints.sort(function(item){return item.viewport[0]}).filter(function(item){return matchMedia("(min-width: "+item.viewport[0]+"px)").matches});return breakpoints.pop().sizes}function loadA9Library(){var A9=function(a9,a,p,s,t,A,g){function q(c,r){a[a9]._Q.push([c,r])}if(!a[a9])return a[a9]={init:function(){q("i",arguments)},fetchBids:function(){q("f",arguments)},setDisplayBids:function(){},_Q:[]},A=p.createElement(s),A.async=!0,A.src=t,g=p.getElementsByTagName(s)[0],g.parentNode.insertBefore(A,g),a[a9]}("apstag",window,document,"script","https://c.amazon-adsystem.com/aax2/apstag.js");return A9}function getSlotsToBid(){var slotsToBid=Array.prototype.map.call(document.getElementsByTagName("gpt-ad"),function(ad){var sizes=getSizesAtCurrentBreakpoint(ad).filter(function(size){return acceptedSizes.indexOf(size.join("x"))>-1}),bidRequest={slotID:ad.id,sizes:sizes};return bidRequest.sizes.length?bidRequest:null}).filter(function(bid){return!!bid});return slotsToBid}function amazon(promise){var self=this;if(!self.options.amazon)return promise.resolve();var A9=loadA9Library();return A9.init({pubID:self.options.amazon,adServer:"googletag"}),A9.fetchBids({slots:getSlotsToBid(),timeout:1e3},function(bids){log("Received Amazon bids"),justInTimeQueue.push(function(){log("Set Amazon bids to slots"),apstag.setDisplayBids()}),promise.resolve()}),promise}function getCriteoSizeMappings(){var elements=document.getElementsByTagName("gpt-ad"),entries=convertToArray(elements).map(function(ad){var sizes=getSizesAtCurrentBreakpoint(ad),zoneid=function(sizes){sizes=sizes.filter(function(size){return void 0!==acceptedSizesMap[size.join("x")]});var size=sizes.sort(function(a,b){return a[0]*a[1]<b[0]*b[1]})[0];if(size)return acceptedSizesMap[size.join("x")]}(sizes);if(zoneid)return{slotid:ad.id,zoneid:zoneid}});return entries.filter(function(entry){return!!entry})}function criteo(promise){function complete(){log("Criteo bids received"),justInTimeQueue.push(function(){Criteo.SetDFPKeyValueTargeting()}),promise.resolve()}if(!this.options.criteo)return void promise.resolve();var adsToBid={placements:getCriteoSizeMappings()};return 0===adsToBid.placements.length&&promise.resolve(),setTimeout(function(){promise.resolve()},timeout),Criteo.events.push(function(){log("Criteo bids requested"),Criteo.SetLineItemRanges("0..10:0.01;10..25:0.05;25..50:0.10;50..100:1"),Criteo.RequestBids(adsToBid,complete,timeout)}),promise}function vendorsDelayExperimentGate(vendors){return void 0===delayLength||isNaN(delayLength)?vendors:(mockVendors.peer39=vendors.peer39,mockVendors)}function breakpointHasActiveSize(ad){if(!ad.size)return!1;var sizes=getSizesAtCurrentBreakpoint(ad);return sizes.filter(function(size){return arraysEqual(ad.size,size)}).length>0}function setupBreakpoints(){if(window.matchMedia&&void 0!==window.matchMedia("all").addListener){for(var breakpoints=adPlacements.getBreakpoints(),handleBreakpoint=function(mql){if(mql.matches){log("Handling change of ad breakpoints:",mql);var adsToRefresh=adPlacements.all().filter(function(ad){return ad.called&&document.body.contains(ad)&&!ad.getAttribute("prevent-reload")&&!breakpointHasActiveSize(ad)});if(adsToRefresh.length){$(adsToRefresh).removeClass("ad-loaded");var slotsToClear=adsToRefresh.map(function(ad){return ad.adSlot});googletag.pubads().clear(slotsToClear),adsToRefresh.forEach(function(ad){ad.called=!1,ad.style.display="initial"})}}},mediaqueries=[],min=void 0,max=void 0,mql=void 0,rule=void 0,i=0;i<breakpoints.length;i++)min=breakpoints[i],max=breakpoints[i+1],rule="(min-width: "+min+"px)",max&&(rule+=" and (max-width: "+(max-1)+"px)"),mql=window.matchMedia(rule),mql.addListener(handleBreakpoint.bind(this)),mediaqueries.push(mql);log("Created Breakpoints for Ads:",mediaqueries)}}function ifFrameRateSafe(fn){if(!experiments.thoughtfulloading)return void fn();if(!isLocked){var start=performance.now();requestAnimationFrame(function(end){var measurement=end-start;measurement<threshold?fn():isLocked||(log("Ads locked: Frame measured at "+measurement+"ms"),isLocked=!0,lockedTime=performance.now(),setTimeout(function(){log("Ads unlocked after "+(performance.now()-lockedTime)+"ms"),isLocked=!1,lockedTime=null},lockTime))})}}function createSlot(ad,zone){var data=parseGptElement(ad);ad.adSlot||(ad.adSlot=googletag.defineSlot(zone,data.fixedSizes,data.id).addService(googletag.pubads()),log("Created slot for ad: "+data.id)),ad.initialHTML=ad.innerHTML;for(var key in data.targeting)ad.adSlot.setTargeting(key,data.targeting[key]);var sizeMapping=googletag.sizeMapping();ad.breakpoints=[],data.breakpoints.forEach(function(bp){sizeMapping.addSize(bp.viewport,bp.sizes),ad.breakpoints.push(bp.viewport[0])}),ad.adSlot.defineSizeMapping(sizeMapping.build()),googletag.display(ad.id)}function checkUnique(ad){$$1('[id="'+ad.id+'"]').length>1&&console.error(stripIndent("There's more than one element\n              with the id of '"+ad.id+"'.\n              Unless the id's are unique no ads will load."))}function registerAdElements(zone){var ads=convertToArray(document.getElementsByTagName("gpt-ad"));ads.forEach(function(ad){checkUnique(ad),ad.adSlot||(createSlot(ad,zone),adPlacements.add(ad))})}function Controller(options){log("Create ad Controller"),performance.mark("ads:controller_loaded"),this.options=_extends({},options);var allMixins=_extends(mixins,options.mixins||{});for(var mixin in allMixins)allMixins[mixin].call(this);var self=this;performance.mark("ads:vendors_start");var requirements=$$1.map(vendors,function(requirement,key){performance.mark("ads:start:"+key),log("Ad vendor started: "+key);var promise=new $$1.Deferred(requirement.bind(self));return promise.then(function(){log("Ad vendor ready: "+key),performance.mark("ads:complete:"+key),performance.measure("ads:measure:"+key,"ads:start:"+key,"ads:complete:"+key)}),promise}),exec=function(fn){fn.call(self)};initQueue.execute(exec),initQueue.setCallback(exec),$$1.when.apply($$1,requirements).then(function(){log("Vendors loaded. Pushing to GPT cmd queue."),performance.mark("ads:vendors_ready"),performance.measure("ads:measure:vendors","ads:vendors_start","ads:vendors_ready"),gptQueue.push(function(){self.start(),justInTimeQueue.execute(exec),log("Started making ad calls.");var lazy_load=self.options.lazy_load||0;render(adPlacements.all(),{outOfPageAd:self.outOfPageAd,changeCorrelator:!0,defaultLazy:lazy_load}),setInterval(function(){registerAdElements(self.options.zone),ifFrameRateSafe(function(){render(adPlacements.all(),{defaultLazy:lazy_load})})}.bind(self),250)})})}$$1=$$1&&$$1.hasOwnProperty("default")?$$1.default:$$1;var isDebug=window.location.search.match(/debug_ads/),$window=$$1(window),$html=$$1(document.documentElement),_adverts=($$1("body"),[]),adPlacements={add:function(advert){_adverts.push(advert)},clear:function(){_adverts.length=0},getById:function(id){var result=_adverts.filter(function(advert){return advert.id===id});return result[0]},getBySlot:function(slot){var result=_adverts.filter(function(advert){return advert.adSlot===slot});return result[0]},all:function(){return _adverts},getBreakpoints:function(){var bp_sets=_adverts.map(function(advert){return advert.breakpoints}),all=[];bp_sets.forEach(function(set){all=all.concat(set)}),all=all.sort();for(var result=[],i=0;i<all.length;i++){var bp=all[i];result.indexOf(bp)===-1&&result.push(bp)}return result}};window.googletag=window.googletag||{},window.googletag.cmd=window.googletag.cmd||[],window.optimizely=window.optimizely||[],window.ad_queue=window.ad_queue||[];var internalQueues={init:window.ad_queue,justInTimeQueue:[]};Queue.prototype.push=function(thing){this.externalCallback?this.externalCallback(thing):this.q.push(thing)},Queue.prototype.setCallback=function(fn){this.externalCallback?this.externalCallback=fn:this.q.push=fn},Queue.prototype.execute=function(fn){return this.externalCallback?void console.error("You can't execute the "+this.key+" queue because it's a vendor API."):void this.q.forEach(fn)};var initQueue=new Queue("init"),justInTimeQueue=new Queue("justInTimeQueue"),gptQueue=new Queue("gpt",function(thing){window.googletag.cmd.push(thing)}),optimizelyQueue=new Queue("optimizely",function(thing){window.optimizely.push(thing)});gptQueue.push(function(){log("Bind slotRenderEnded handler"),googletag.pubads().addEventListener("slotRenderEnded",function(event){log("slotRenderEnded",event);var ad=document.getElementById(event.slot.getSlotElementId());if(ad){var $ad=$$1(ad);if(event.isEmpty)return log("Ad loaded empty: "+ad.id),$ad.addClass("is-empty"),void $ad.trigger("ad-empty");ad.size=event.size,ad.advertiserId=event.advertiserId,ad.lineItemId=event.lineItemId,ad.creativeId=event.creativeId,ad.hadViewableImpression=!1,log("Ad loaded successfully: "+ad.id+" as a "+ad.size.join("x")),optimizelyQueue.push({type:"event",eventName:"ad_loaded"}),$ad.addClass("ad-loaded"),$ad.trigger("ad-loaded"),$$1("[data-enable-if-ad="+ad.id+"]").css({visibility:"visible",display:"block"});var isInvisible="none"===getComputedStyle(ad).display||null===ad.offsetParent,isInDOM=null!==!ad.parentElement,hiddenPermitted=$ad.hasClass("ad-hidden");isInvisible&&isInDOM&&!hiddenPermitted&&console.error(stripIndent("\n        DANGER! DANGER!\n\n        The ad with the id of "+ad.id+" has loaded with a display\n        style of none. This is never allowed to happen. If an \n        ad loads, it must be visible.\n      ")),arraysEqual(ad.size,[1,3])||arraysEqual(ad.size,[1024,350])?$ad.attr("responsive",1):$ad.removeAttr("responsive")}})}),gptQueue.push(function(e){log("Bind impressionViewable handler"),googletag.pubads().addEventListener("impressionViewable",function(e){optimizelyQueue.push({type:"event",eventName:"viewable_impression"}),window.location.search.indexOf("debug_viewability=1")>-1&&console.log("Viewable Impression recorded");var advert=adPlacements.getBySlot(e.slot);advert&&(advert.hadViewableImpression=!0,$$1(advert).trigger("viewable-impression"),log("Viewable impression: "+advert.id))})});var performance=window.performance||{};performance.mark=performance.mark||function(){},performance.measure=performance.measure||function(){},performance.now=performance.now||function(){};var experiments=window.adsjsExperiments||{},lazySetting=parseFloat(experiments.lazyload,10),_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_extends=(function(){function AwaitValue(value){this.value=value}function AsyncGenerator(gen){function send(key,arg){return new Promise(function(resolve,reject){var request={key:key,arg:arg,resolve:resolve,reject:reject,next:null};back?back=back.next=request:(front=back=request,resume(key,arg))})}function resume(key,arg){try{var result=gen[key](arg),value=result.value;value instanceof AwaitValue?Promise.resolve(value.value).then(function(arg){resume("next",arg)},function(arg){resume("throw",arg)}):settle(result.done?"return":"normal",result.value)}catch(err){settle("throw",err)}}function settle(type,value){switch(type){case"return":front.resolve({value:value,done:!0});break;case"throw":front.reject(value);break;default:front.resolve({value:value,done:!1})}front=front.next,front?resume(front.key,front.arg):back=null}var front,back;this._invoke=send,"function"!=typeof gen.return&&(this.return=void 0)}return"function"==typeof Symbol&&Symbol.asyncIterator&&(AsyncGenerator.prototype[Symbol.asyncIterator]=function(){return this}),AsyncGenerator.prototype.next=function(arg){return this._invoke("next",arg)},AsyncGenerator.prototype.throw=function(arg){return this._invoke("throw",arg)},AsyncGenerator.prototype.return=function(arg){return this._invoke("return",arg)},{wrap:function(fn){return function(){return new AsyncGenerator(fn.apply(this,arguments))}},await:function(value){return new AwaitValue(value)}}}(),Object.assign||function(target){for(var i=1;i<arguments.length;i++){var source=arguments[i];for(var key in source)Object.prototype.hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target}),scrollPosition=window.pageYOffset,refreshCount=0,cookies={set:function(key,value,days){days=days||30;var date=new Date;date.setTime(date.getTime()+24*days*60*60*1e3),document.cookie=key+"="+value+"; expires="+date.toGMTString()+"; path=/"},get:function(key){key+="=";for(var ca=document.cookie.split(";"),i=0;i<ca.length;i++){for(var c=ca[i];" "==c.charAt(0);)c=c.substring(1,c.length);if(0===c.indexOf(key))return c.substring(key.length,c.length)}return null},delete:function(key){this.createCookie(key,"",-1)}};window.googletag=window.googletag||{};var controllerStartTime=null,pageViewUuid=uuid(),device=getDeviceType(),supportsPassive=function(){var supported=!1;try{var opts=Object.defineProperty({},"passive",{get:function(){supported=!0}});window.addEventListener("test",null,opts)}catch(e){}return supported}(),mixins={referrers:referrers,devices:devices,gptDomainOverride:gptDomainOverride,utmSource:utmSource,preview:preview,detective:detective,timing:timing,patchEventHandlers:patchEventHandlers,adomik:adomik};window.p39_cc_1406="9OvF4mq1gL8PLUSSIGNdC8mHTEU35BLi85rd85KPLUSSIGNkUjyNnfuAw=",window.p39_pu_1406=null,window.p39_finished_1406="0",window.p39_al_1406="1",window.p39_cb_1406="1",window.p39_aid="1406",window.location.search.match(/(\?|\&)debug_disable_peer39\=/)||p39_exec_1406(null,!0);var DefaultId="gpt-unit-",DefaultIdIndex=0,acceptedSizes=["728x90","970x250","300x600","300x250"];window.Criteo=window.Criteo||{},window.Criteo.events=window.Criteo.events||[];var timeout=1500,acceptedSizesMap={"728x90":1118672,"300x250":1118671,"300x600":1118675,"970x250":1118673,"320x50":1118674},delayLength=parseFloat(experiments.delay,10),mockVendors={simulatedVendor:function(promise){return setTimeout(function(){promise.resolve()},1e3*delayLength),promise}},all={medianet:medianet,peer39:peer39,amazon:amazon,criteo:criteo},vendors=vendorsDelayExperimentGate(all),threshold=20,lockTime=1e3,isLocked=!1,lockedTime=null;Controller.prototype.setPageTargeting=function(){var self=this,key=void 0,value=void 0;for(key in self.options.globals)value=self.options.globals[key],Array.isArray(value)?value=value.map(function(a){return a.toString()}):null!==value&&(value=value.toString()),googletag.pubads().setTargeting(key,value),log("Set global targeting: "+key+"="+value)},Controller.prototype.start=function(){var self=this;self.setPageTargeting(),googletag.pubads().enableSingleRequest(),googletag.pubads().disableInitialLoad(),googletag.pubads().enableAsyncRendering(),googletag.pubads().collapseEmptyDivs(),googletag.pubads().setCentering(!0),googletag.enableServices(),log("Started GPT services"),registerAdElements(self.options.zone),self.options.outofpage&&!self.outOfPageAd&&(self.outOfPageAd=googletag.defineOutOfPageSlot(self.options.zone,"outofpage").addService(googletag.pubads()).setTargeting("pos","outofpage")),setupBreakpoints()},Controller.prototype.updateOptions=function(options){_extends(this.options,options)},Controller.prototype.reset=function(){var self=this;gptQueue.push(function(){googletag.pubads().clear(),googletag.pubads().clearTargeting(),adPlacements.clear();for(var ad=void 0,$gptElements=$$1("gpt-ad"),i=0;i<$$1("gpt-ad").length;i++)ad=$gptElements[i],ad.initialHTML?ad.innerHTML=ad.initialHTML:""===ad.innerHTML&&console.error(stripIndent("\n                    A new ad with the id of '"+ad.id+"' had it's\n                    innerHtml wiped out when GPT cleared all the slots.\n                    \n\nIt probably shares a name with an ad that was\n                    on the previous page. Please give it a unique ID\n                    or it will never render.\n                    ")),ad.called=null,ad.adSlot=void 0;$gptElements.removeClass("ad-loaded"),self._initialCallMade=!1,self.start()})},window.Atlantic=window.Atlantic||{},Atlantic.Ad={},Atlantic.Ad.Controller=Controller,Atlantic.Ad.sizeListener=function(){console.warn("Atlantic.Ad.sizeListener is obsolete.")};var options=function(){try{return JSON.parse(document.querySelector("script[type='gpt-config']").innerHTML)}catch(e){console.error("Cannot parse GPT config.")}}(),isAdFree=Atlantic.User&&Atlantic.User.isAdFree(),subscriberMixin=function(){if(window.Atlantic=window.Atlantic||{},window.Atlantic.User=window.Atlantic.User||null,Atlantic.User)return Atlantic.User.isLoggedIn()?void(Atlantic.User.isPrintSubscriber()?this.options.globals.subscriber="sub":this.options.globals.subscriber="nosub"):void(this.options.globals.subscriber="loggedout")};options.mixins=[subscriberMixin],window.Modernizr&&isAdFree&&window.Modernizr.addTest("has-adfree",!0),options&&!isAdFree&&(Atlantic.Ad.controller=new Atlantic.Ad.Controller(options))}(jQuery),function(){Atlantic=window.Atlantic||{},Atlantic.WelcomeScreen=function(){this.debug=/debug_welcome_screen/.test(window.location.search),this.clock=15,this.debug&&(this.clock=1e4),this.clockStart=this.clock,this.autoClose=!0;var self=this;$(window).on("welcome-screen-disable-auto-close",function(){self.autoClose=!1;
}),$(window).on("welcome-screen-close",function(){self.hide()})},Atlantic.WelcomeScreen.prototype.show=function(){var self=this;this.$lightbox=$(".welcome-lightbox.active"),this.$lightbox.on("mousewheel touchmove",function(e){return!1}),this.$lightbox.show(),$(document.body).addClass("overflow-hidden"),$(document.body).addClass("welcome-screen-open"),this.$lightbox.find(".welcome-lightbox-count").html(this.clock),window.scrollTo(window.pageXOffset,window.pageYOffset-.1),setTimeout(function(){self.$lightbox.addClass("skippable"),$("body").one("click",function(e){self.hide()})},2500),this.timeout=setInterval(function(){self.runCountdown()},1e3),this.runCountdown()},Atlantic.WelcomeScreen.prototype.hide=function(){$(".welcome-lightbox.active").remove(),$(document.body).removeClass("overflow-hidden"),$(document.body).removeClass("welcome-screen-open"),this.stopCountdown()},Atlantic.WelcomeScreen.prototype.runCountdown=function(){this.$lightbox.find(".welcome-lightbox-count").html(this.clock);var secondsToWait=3-(this.clockStart-this.clock);return secondsToWait<1?(this.$lightbox.find(".skip-wait").hide(),this.$lightbox.find(".skip-btn").show()):this.$lightbox.find(".wait-count").html(secondsToWait),0===this.clock&&this.autoClose?this.hide():void(this.clock-=1)},Atlantic.WelcomeScreen.prototype.stopCountdown=function(){clearInterval(this.timeout),this.timeout=!1,this.$lightbox.find(".welcome-lightbox-count").hide()}}(),function(){function bindQueue(){window.abtests.push=function(fn){fn()},window.abtests.forEach(function(fn){fn()})}window.abtests=window.abtests||[],window.optimizely=window.optimizely||[],window.optimizely.initialized?bindQueue():window.optimizely.push({type:"addListener",filter:{type:"lifecycle",name:"activated"},handler:bindQueue})}(),abtests.push(function(){var _scrolls=[25,50,75,100];window.setInterval(function(){window.optimizely=window.optimizely||[];for(var scroll,scrollPercent=(window.pageYOffset+$(window).height())/$(document).height()*100,i=0;i<_scrolls.length;i++)_scrolls[i]<=scrollPercent&&(scroll=_scrolls.shift(),window.optimizely.push({type:"event",eventName:"scroll"+scroll}))},500)}),abtests.push(function(){var scrollK=0,scrollDepth=0;setInterval(function(){if(window.pageYOffset>scrollDepth){scrollDepth=window.pageYOffset;var currScrollK=Math.floor(scrollDepth/1e3);currScrollK>scrollK&&(scrollK=currScrollK,optimizelyEvent("scroll"+scrollK+"k"))}},500)}),"/"==window.location.pathname&&abtests.push(function(){function getClickType(event){for(var clickType,topElement=event.currentTarget,el=event.target,isAnchor=!1;el&&el!=topElement;){if("A"==el.tagName&&(isAnchor=!0),el.classList.contains("l-hp-b-top__belt")||el.classList.contains("l-hp-b-top__off-off-lede")){clickType="belt";break}el=el.parentNode}return isAnchor?"belt"==clickType?"belt":"top":null}$(document).ready(function(){$(".l-hp-b-top,.c-hp--breaking,.c-hp--top").on("click",function(event){var clickType=getClickType(event);clickType&&(optimizelyEvent("hp-click-curation"),optimizelyEvent("hp-click-"+clickType))}),$(".c-latest").on("click","a",function(){optimizelyEvent("hp-click-latest")})})}),abtests.push(function(){var pv=parseInt(sessionStorage.getItem("pageviews"))||0;pv+=1,sessionStorage.setItem("pageviews",pv),pv>1&&window.optimizely.push({type:"event",eventName:"unbouncedPageview",tags:{depth:pv}})}),abtests.push(function(){var domain=window.location.protocol+"//"+window.location.host;0!==document.referrer.indexOf(domain)&&optimizelyEvent("new-visit")}),abtests.push(function(){function startClock(){interval=setInterval(function(){count++,window.optimizely.push({type:"event",eventName:"minuteOnPage",tags:{depth:count}})},6e4)}function stopClock(){clearInterval(interval)}var interval,count=0;startClock(),document.addEventListener("visibilitychange",function(){document.hidden?stopClock():startClock()},!1)}),window.abtests.push(function(){window.Atlantic=window.Atlantic||{},window.ad_queue=window.ad_queue||[];var experiments=window.optimizely.get("state").getExperimentStates(),thisExp=experiments[8422781451];if(thisExp){var lazy=parseFloat(thisExp.variation.name,10);$("html").addClass("test-moat_integration_lazy_load-"+thisExp.variation.name),lazy&&!isNaN(lazy)&&window.ad_queue.push(function(){$("gpt-ad").not('[defer],[lazy="0"]').attr("lazy-load",lazy)})}}),function(){Atlantic.User&&Atlantic.User.isAdFree()||$("body").on("revcontent-requested",function(){var rcds=document.getElementById("rcjsload_b2bd2c");if(rcds){var referer="";try{if(referer=document.referrer,"undefined"==typeof referer)throw"undefined"}catch(exception){referer=document.location.href,(""==referer||"undefined"==typeof referer)&&(referer=document.URL)}referer=referer.substr(0,700);var rcel=document.createElement("script");rcel.id="rc_"+Math.floor(1e3*Math.random()),rcel.type="text/javascript",rcel.src="https://trends.revcontent.com/serve.js.php?w=12488&t="+rcel.id+"&c="+(new Date).getTime()+"&width="+(window.outerWidth||document.documentElement.clientWidth)+"&referer="+referer,rcel.async=!0,rcds.appendChild(rcel)}})}();

//# sourceMappingURL=vendors.min.js.3b86989c794d.map